Some changes are still needed. In theory, it looked good, but in practice, it's not what I want. These are just minor tweaks though.

The problems or fixes:
- sort the due cards by consecutive recalls (ASC), to fix since weaker cards 't are under-reviewed
- increment both presented and tested factors if recalled correctly? maybe not, might break it even worse. Actually, this is fine, works as expected.
- interval should depend on proficiency in some way, 

Well, aside from the negative interval bugs, it seems to be doing how I wanted to after the changes. I'm testing on 40 cards, but it feels too few, so I guess I can handle a few more load? I'll try a hundred tomorrow.

By "feels few", I mean, the cards being reviewed becomes repetitive or unchallenging, which is a sign that I should add more cards. But the important part is that I don't feel the fatigue or boredom while doing it. Forget efficiency if it's something I can't do consistently or for a longer period of time.

Also, one more little change: instead of starting anew everyday, clear only the scheduling data for a card when it hasn't been reviewed for a period of time, like a week.